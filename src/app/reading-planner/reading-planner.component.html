<app-nav-bar></app-nav-bar>
<div id="main-container">
    <h1 id="reading-planner">Reading Planner</h1>
    <summary>
        <p>Create your own custom reading plan.</p>
    </summary>
    <form id="form" [formGroup]="applyForm" (submit)="submitForm()">
        <div id="date-div1">
            <label for="from-date">From:</label>
            <input type="date" id="from-date" formControlName="fromDate">
        </div>
        <div id="date-div2">
            <label for="to-date">To:</label>
            <input type="date" id="to-date" formControlName="toDate">
        </div>
        <div id="translation-div">
            <label for="translation">Translation:</label>
            <select id="translation" formControlName="translation">
                <option value="all-translations">All Translations</option>
                <option value="CSB">CSB</option>
                <option value="ESV">ESV</option>
                <option value="NASB">NASB</option>
                <option value="NIV">NIV</option>
                <option value="NKJV">NKJV</option>
                <option value="NLT">NLT</option>
            </select>
        </div>
        <button id="submit-button" type="submit" class="primary">Create</button>
    </form>
    <p *ngIf="errorMessage !== ''" id="error-message">{{errorMessage}}</p>
    <p *ngIf="newPlanMessage !== ''" id="new-plan-message">New plan for '{{newPlanMessage}}' was created!</p>
    <table id="reading-plan-table" *ngIf="bibleSchedule.length > 0">
        <thead>
            <tr>
                <th>Date</th>
                <th>Reading</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let b of bibleSchedule; index as i">
                <td class="date">{{dates.at(i)?.month}} {{dates.at(i)?.day}}<span class="day-suffix" *ngIf="dates.at(i)?.daySuffix !== undefined">{{dates.at(i)?.daySuffix}}</span> '{{dates.at(i)?.year}}</td>
                <td *ngIf="b.wordCount !== -100 && b.from.book === b.to.book">{{books[b.from.book] + " " + (b.from.chapter + 1) + ":" + (b.from.verse + 1) + " - " + (b.to.chapter + 1) + ":" + (b.to.verse + 1)}}</td>
                <td *ngIf="b.wordCount !== -100 && b.from.book !== b.to.book">{{books[b.from.book] + " " + (b.from.chapter + 1) + ":" + (b.from.verse + 1) + " - " + books[b.to.book] + " " + (b.to.chapter + 1) + ":" + (b.to.verse + 1)}}</td>
                <td *ngIf="b.wordCount === -100">LEAP DAY</td>
            </tr>
        </tbody>
    </table>
</div>